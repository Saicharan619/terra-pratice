# ğŸš€ GCP VM Creation Using Terraform and Harness IACM

This project demonstrates how to create and destroy a Virtual Machine (VM) on **Google Cloud Platform (GCP)** using **Terraform**, executed via a **Harness IACM pipeline**.

---

## ğŸ“ Project Structure

terra-pratice/
â””â”€â”€ Instance-vm/
â””â”€â”€ main.tf # Terraform configuration for GCP VM
---

## ğŸ”§ Tools Used

- **Terraform** â€“ Infrastructure as Code
- **GCP** â€“ Cloud provider
- **Harness** â€“ CI/CD automation platform (IACM module)
- **GitHub** â€“ Code version control

---

## ğŸ“„ Terraform (`main.tf`) Summary

The configuration file:
- Uses the `google` provider
- Provisions a Compute Engine instance
- Machine type: `e2-micro`
- OS Image: Debian 11
- Network: Default VPC

---

## âš™ï¸ Harness IACM Pipeline Workflow

Harness pipeline runs Terraform in sequence:

1. `terraform init` â€“ Initializes the config
2. `terraform plan` â€“ Shows execution plan
3. `terraform apply` â€“ Applies the changes (if user selects `apply`)
4. `terraform destroy` â€“ Destroys resources (if user selects `destroy`)

### ğŸ§¾ Input Variable Example

```yaml
variables:
  - name: choice
    type: String
    value: <+input>.default(apply).allowedValues(apply,destroy)
ğŸ“Œ Condition Example (Inside Apply Step)

when:
  stageStatus: Success
  condition: <+pipeline.variables.choice>=="apply"
âœ… How to Run
Push Terraform code to GitHub (in Instance-vm/ folder).

Link the repo in Harness IACM.

Configure workspace to use Instance-vm/ as root directory.

Run the pipeline and provide input:

apply â†’ to create the VM

destroy â†’ to delete the VM

ğŸ” Prerequisites
GCP project with Compute Engine API enabled

Service account with proper IAM roles (Compute Admin, etc.)

GCP credentials configured in Harness

Harness account with IACM module access

ğŸ™‹ Author
**Sai Charan Reddy**  
DevOps | Cloud | Automation  
ğŸ”— [LinkedIn](https://www.linkedin.com/in/saicharanreddydontiri/)  
ğŸ“‚ [GitHub](https://github.com/Saicharan619)
